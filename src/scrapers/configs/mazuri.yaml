name: "mazuri"
test_skus: ["0048601", "3005450", "0048134"]
base_url: "https://mazuri.com"
timeout: 30
retries: 3

selectors:
  - name: "product_name"
    selector: "h2"
    attribute: "text"
  - name: "brand"
    selector: "h2"
    attribute: "text"
  - name: "weight"
    selector: "p"
    attribute: "text"
  - name: "price"
    selector: ".price, span.price-item--regular"
    attribute: "text"
  - name: "images"
    selector: "img[src*='cdn.shopify.com']"
    attribute: "src"
    multiple: true

workflows:
   - action: "navigate"
     params:
       url: "https://mazuri.com/pages/search-results-page?q={sku}"
   - action: "wait"
     params:
       selector: "a[href*='/products/'], body"
       timeout: 15
   - action: "wait"
     params:
       seconds: 2
  # Cookie banner doesn't exist on this page, skip this step
  # - action: "click"
  #   params:
  #     selector: "//button[contains(text(),'Close') or contains(text(),'Accept') or contains(text(),'Agree') or contains(text(),'OK')]"
  #     wait_after: 2
   - action: "click"
     params:
       selector: "a.snize-view-link[href*='/products/']"
   - action: "wait"
     params:
       selector: "img, h2"
       timeout: 15
   - action: "extract"
     params:
       fields: ["product_name", "brand", "weight", "price", "images"]

anti_detection:
  enable_captcha_detection: false
  enable_rate_limiting: true
  enable_human_simulation: true
  enable_session_rotation: false
  enable_blocking_handling: false
  rate_limit_min_delay: 1.0
  rate_limit_max_delay: 3.0
  session_rotation_interval: 100
  max_retries_on_detection: 3